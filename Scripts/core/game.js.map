{"version":3,"sources":["core/game.ts"],"names":["init","addSunLight","addPlanet","addRingPlanet","addMoonedPlanet","onResize","addControl","addStatsObject","gameLoop","setupRenderer","setupCamera"],"mappings":"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AEA,CAACA,GAAGA,OAAOA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;YAC3DA,OAAOA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,IAAIA,YAAYA,CAACA,CAACA,CAACA,CAACA;YAAAA,CAACA,CAAAA,+BAA+BA;YAC9FA,EAAEA,CAAAA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,IAAEA,IAAIA,CAACA;gBACjDA,OAAOA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,IAAIA,KAAKA,CAACA,CAAAA,8BAA8BA;YAClGA,EAAEA,CAAAA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,IAAEA,IAAIA,CAACA;gBACjDA,OAAOA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,IAAIA,GAAGA,CAACA,CAAAA,6BAA6BA;YAC1FA,EAAEA,CAAAA,CAACA,OAAOA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,IAAEA,IAAIA,CAACA;gBACtDA,OAAOA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA,IAAIA,GAAGA,CAACA,CAAAA,6BAA6BA;QAEnGA,CAACA;IACLA,CAACA;IACDA,EAAEA,CAACA,CAACA,OAAOA,CAACA,IAAIA,IAAIA,MAAMA,CAACA,IAAIA,CAACA,CAACA,CAACA;QAC9BA,aAAaA,CAACA,IAAIA,GAAGA,OAAOA,CAACA,IAAIA,CAACA;QAClCA,aAAaA,CAACA,sBAAsBA,EAAEA,CAACA;IAC3CA,CAACA;IAIDA,qCAAqCA;IACrCA,qBAAqBA,CAACA,QAAQA,CAACA,CAACA;IAChCA,mBAAmBA;IACnBA,QAAQA,CAACA,MAAMA,CAACA,KAAKA,EAAEA,aAAaA,CAACA,CAACA;AAC1CA,CAACA;AAED,yBAAyB;AACzB;IACIC,QAAQA,GAAGA,IAAIA,QAAQA,EAAEA,CAACA;IAC1BA,QAAQA,CAACA,aAAaA,CAACA,QAAQA,EAAEA,GAAGA,CAACA,CAACA;IACtCA,QAAQA,CAACA,OAAOA,CAACA,MAAMA,CAACA,UAAUA,EAAEA,MAAMA,CAACA,WAAWA,CAACA,CAACA;IACxDA,QAAQA,CAACA,SAASA,CAACA,OAAOA,GAAGA,IAAIA,CAACA;IAClCA,OAAOA,CAACA,GAAGA,CAACA,iCAAiCA,CAACA,CAAAA;AAClDA,CAACA;AAED,kCAAkC;AAClC;IACIC,MAAMA,GAAGA,IAAIA,iBAAiBA,CAACA,EAAEA,EAAEA,MAAMA,CAACA,UAAUA,GAAGA,MAAMA,CAACA,WAAWA,EAAEA,GAAGA,EAAEA,IAAIA,CAACA,CAACA;IACtFA,MAAMA,CAACA,QAAQA,CAACA,CAACA,GAAGA,GAAGA,CAACA;IACxBA,MAAMA,CAACA,QAAQA,CAACA,CAACA,GAAGA,KAAKA,CAACA,CAAAA,GAAGA;IAC7BA,MAAMA,CAACA,QAAQA,CAACA,CAACA,GAAGA,IAAIA,CAACA,CAAAA,mBAAmBA;IAC5CA,MAAMA,CAACA,MAAMA,CAACA,IAAIA,OAAOA,CAACA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA;IACpCA,OAAOA,CAACA,CAACA,CAACA,GAAGA,MAAMA,CAACA;IACpBA,OAAOA,CAACA,GAAGA,CAACA,+BAA+BA,CAACA,CAACA;AACjDA,CAACA","file":"core/game.js","sourcesContent":["/// <reference path=\"_reference.ts\"/>\n\n// MAIN GAME FILE\n/* Ilmir Taychinovs study project for Advanced Graphic course\ncentennial college W2016\nlast modified: Feb 5,2016\n*/\n// THREEJS Aliases\nimport Scene = THREE.Scene;\nimport Renderer = THREE.WebGLRenderer;\nimport PerspectiveCamera = THREE.PerspectiveCamera;\nimport BoxGeometry = THREE.BoxGeometry;\nimport CubeGeometry = THREE.CubeGeometry;\nimport PlaneGeometry = THREE.PlaneGeometry;\nimport SphereGeometry = THREE.SphereGeometry;\nimport Geometry = THREE.Geometry;\nimport AxisHelper = THREE.AxisHelper;\nimport LambertMaterial = THREE.MeshLambertMaterial;\nimport Texture = THREE.Texture;\nimport PhongMaterial = THREE.MeshPhongMaterial;\nimport MeshBasicMaterial = THREE.MeshBasicMaterial;\nimport Material = THREE.Material;\nimport Mesh = THREE.Mesh;\nimport Object3D = THREE.Object3D;\nimport SpotLight = THREE.SpotLight;\nimport PointLight = THREE.PointLight;\nimport AmbientLight = THREE.AmbientLight;\nimport Control = objects.Control;\nimport GUI = dat.GUI;\nimport Color = THREE.Color;\nimport Vector3 = THREE.Vector3;\nimport Face3 = THREE.Face3;\nimport Point = objects.Point;\nimport myScreenConf = config.Screen;\nimport RingGeometry =THREE.RingGeometry;\n//import Particles= THREE.GPUParticle;\n\n//Custom Game Objects\nimport gameObject = objects.gameObject;\n\nvar scene: Scene;\nvar renderer: Renderer;\nvar camera: PerspectiveCamera;\nvar axes: AxisHelper;\nvar cubes: Array<Mesh>;\nvar plane: Mesh;\nvar sphere: Mesh;\nvar texture: Texture;\nvar control: Control;\nvar gui: GUI;\nvar stats: Stats;\nvar step: number = 0;\nvar rotationDirection: number;\nvar sphereGeometry: SphereGeometry;\nvar sphereMaterial: LambertMaterial;\nvar sunSurface: Mesh;\nvar planets: Object3D;\nvar sun: Object3D;\nvar sunRadius: number;\nvar planetSpeeds: Array<number>;\nvar cameras: Array<PerspectiveCamera>;\nvar currentCamera: PerspectiveCamera;\nvar textures: Array<Texture>;\nvar ambiLight: AmbientLight;\nfunction init() {\n    \n    // Instantiate a new Scene object\n    scene = new Scene();\n    setupRenderer(); // setup the default renderer\n    cameras = new Array;//will change the camera LookAt between this objects\n    setupCamera(); // setup the camera\n    currentCamera = cameras[0];\n    \n    // add an axis helper to the scene\n    axes = new AxisHelper(10);\n    scene.add(axes);\n    console.log(\"Added Axis Helper to scene...\");\n\n    textures = new Array;\n    textures[0] = THREE.ImageUtils.loadTexture('Content/Textures/sun.png');\n    textures[1] = THREE.ImageUtils.loadTexture('Content/Textures/brown.jpg');\n    textures[2] = THREE.ImageUtils.loadTexture('Content/Textures/dark.png');\n    textures[3] = THREE.ImageUtils.loadTexture('Content/Textures/ice.png');\n    textures[4] = THREE.ImageUtils.loadTexture('Content/Textures/index.png');\n    textures[5] = THREE.ImageUtils.loadTexture('Content/Textures/blue.jpg');\n    console.log(textures[0]);  \n    //add Sun with lights//check perfomance issues\n    sun = new Object3D;\n\n    sunRadius = 0.7;\n    sphereGeometry = new SphereGeometry(sunRadius, 35, 35);\n    sphereMaterial = new LambertMaterial({ color: 0xffFFff, map: textures[0] });\n    sphereMaterial.emissive = new Color(0xEEAA00);\n    //sphereMaterial.specular=new Color(0xff7800);\n    //sphereMaterial.shininess=1;\n    sunSurface = new Mesh(sphereGeometry, sphereMaterial);\n    sunSurface.receiveShadow = false;\n    sunSurface.castShadow = false;\n    sunSurface.position.set(0, 0, 0);\n    addSunLight(0, 0, 0, sun);\n    sun.add(sunSurface);\n    scene.add(sun);\n    //AmbientLight\n    ambiLight = new AmbientLight(0x111111);\n    scene.add(ambiLight);\n   \n    \n    // Add Planets to the scene with realted orbit speeds\n    planetSpeeds = [0.02, 0.021, 0.022, 0.023];// values <0.05\n    planets = new Object3D;\n    addMoonedPlanet(2.5, 0, 2.5, 0.17, planets, sun, textures[4]);\n    addMoonedPlanet(1, 0, 1, 0.15, planets, sun, textures[1]);\n    addRingPlanet(1.5, 0, 1.5, 0.27, planets, sun, textures[3]);\n    addPlanet(2, 0, 2, 0.10, planets, sun, textures[5]);\n    scene.add(planets);\n  \n    // add controls\n    gui = new GUI();\n    control = new Control(true, cameras, 1);\n    addControl(control);\n\n    // Add framerate stats\n    addStatsObject();\n    console.log(\"Added Stats to scene...\");\n    document.body.appendChild(renderer.domElement);\n    gameLoop(); // render the scene\t\n    window.addEventListener('resize', onResize, false);\n    \n    //test particles\n    \n    \n    \n}\n\nfunction addSunLight(x: number, z: number, y: number, attachTo: Object3D): void {\n\n    var pointLight = new PointLight(0xffffff);\n    pointLight.position.set(0, 0, 0);\n    pointLight.intensity = 2;\n    pointLight.castShadow = true;\n    //make shadows more neat and a bit brighter\n    pointLight.shadowMapWidth = 1024;\n    pointLight.shadowMapHeight = 1024;\n    pointLight.shadowMapHeight = 1024;\n    pointLight.shadowDarkness = 0.5;\n    pointLight.shadowCameraFar = 1000;\n    pointLight.shadowCameraNear = 0.1;\n    console.log(\"light attached to the sun as number\" + attachTo.children.length);\n    attachTo.add(pointLight);\n}\n\nfunction addPlanet(x: number, y: number, z: number, r: number, attachTo: Object3D, center: Object3D, texture: Texture): void {\n    sphereGeometry = new SphereGeometry(r, 20, 20);\n    var sphericMaterial = new LambertMaterial({ color: 0xffFFff, map: texture });\n    var thisPlanet: Mesh = new Mesh(sphereGeometry, sphericMaterial);\n    thisPlanet.position.set(x, y, z);\n    thisPlanet.castShadow = true;\n    thisPlanet.receiveShadow = true;\n    var planetPivot: Object3D = new Object3D;\n    planetPivot.add(thisPlanet)\n    planetPivot.position = center.position;\n    attachTo.add(planetPivot);\n\n}\n\nfunction addRingPlanet(x: number, y: number, z: number, r: number, attachTo: Object3D, center: Object3D, texture: Texture): void {\n    sphereGeometry = new SphereGeometry(r, 20, 20);\n    var sphericMaterial = new LambertMaterial({ color: 0xffFFff, map: texture });\n    var thisPlanet: Mesh = new Mesh(sphereGeometry, sphericMaterial);\n    thisPlanet.position.set(x, y, z);\n    thisPlanet.castShadow = true;\n    thisPlanet.receiveShadow = true;\n    var planetPivot: Object3D = new Object3D;\n    planetPivot.add(thisPlanet)\n    planetPivot.position = center.position;\n    thisPlanet.add(new Object3D());\n    \n     //add camera \n    var ringCamera = new PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);\n    ringCamera.position.set(x + 1, y + 1, z + 1);\n    ringCamera.lookAt(planetPivot.position);\n    thisPlanet.add(ringCamera);\n    \n    //addRing\n    var ringGeometry = new RingGeometry( r+0.05, r+0.10, 50 );\n    var ringMaterial = new LambertMaterial( { color: 0xAAaaAA, side: THREE.DoubleSide , map:textures[2], transparent: true, opacity: 0.9} );\n    var theRing = new THREE.Mesh( ringGeometry, ringMaterial );\n    theRing.rotation.x=60 *Math.PI/180;\n    theRing.rotation.y=5*Math.PI/180;\n    theRing.rotation.z=5 *Math.PI/180;\n    theRing.position.set(0,0,0);\n    thisPlanet.add( theRing );\n    //second ring    \n    var ringGeometry = new RingGeometry( r+0.05, r+0.10, 50 );\n    var ringMaterial = new LambertMaterial( { color: 0xAAaaAA, side: THREE.DoubleSide , map:textures[1],transparent: true, opacity: 0.9} );\n    var theRing = new THREE.Mesh( ringGeometry, ringMaterial );\n    theRing.rotation.x=60 *Math.PI/180;\n    theRing.rotation.y=4.5*Math.PI/180;\n    theRing.rotation.z=4.5 *Math.PI/180;\n    theRing.position.set(0,0,0);\n    thisPlanet.add( theRing );\n  \n   \n    \n    attachTo.add(planetPivot);\n   \n   \n    cameras[cameras.length] = ringCamera;\n\n   \n}\n\n\nfunction addMoonedPlanet(x: number, y: number, z: number, r: number, attachTo: Object3D, center: Object3D, texture: Texture ): void {\n    sphereGeometry = new SphereGeometry(r, 20, 20);\n    var sphereMaterial = new LambertMaterial({ color: 0xbabdab, map: texture });\n    var thisPlanet: Mesh = new Mesh(sphereGeometry, sphereMaterial);\n    thisPlanet.position.set(x, y, z);\n    thisPlanet.castShadow = true;\n    thisPlanet.receiveShadow = true;\n    var planetPivot: Object3D = new Object3D;\n    planetPivot.add(thisPlanet)\n    planetPivot.position = center.position;\n    //add moon similiar to planet for sun \n    addPlanet(0.15, 0, 0.15, r/5, thisPlanet, thisPlanet, textures[2]);\n    attachTo.add(planetPivot);\n    //add camera \n    var moonedCamera = new PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);\n    moonedCamera.position.set(x + 1, y + 1, z + 1);\n    moonedCamera.lookAt(planetPivot.position);\n    thisPlanet.add(moonedCamera);\n    cameras[cameras.length] = moonedCamera;\n\n\n}\n\n\nfunction onResize(): void {\n    currentCamera.aspect = window.innerWidth / window.innerHeight;\n    currentCamera.updateProjectionMatrix();\n    renderer.setSize(window.innerWidth, window.innerHeight);\n}\n\nfunction addControl(controlObject: Control): void {\n    gui.add(controlObject, 'helperAxis');\n    gui.add(controlObject, 'ChangeCamera');\n    gui.add(controlObject, 'zoom', 0, 5);\n\n\n}\n\nfunction addStatsObject() {\n    stats = new Stats();\n    stats.setMode(0);\n    stats.domElement.style.position = 'absolute';\n    stats.domElement.style.left = '0px';\n    stats.domElement.style.top = '0px';\n    document.body.appendChild(stats.domElement);\n}\n\n// Setup main game loop\nfunction gameLoop(): void {\n    stats.update();\n\n    if (!control.helperAxis)\n        axes.traverse(function(object) { object.visible = false; });\n    else\n        axes.traverse(function(object) { object.visible = true; });\n    for (var i = 0; i < planets.children.length; i++) {\n        planets.children[i].rotation.y += planetSpeeds[i];//rotation around sun middle\n        for (var j = 0; j < planets.children[i].children.length; j++) {\n            planets.children[i].children[j].rotation.y += planetSpeeds[i];;//rotation around planet middle\n            if(planets.children[i].children[j].children[0]!=null)\n                planets.children[i].children[j].children[0].rotation.y += 0.035;//rotation around moon middle \n            if(planets.children[i].children[j].children[2]!=null)\n                planets.children[i].children[j].children[2].rotation.z += 0.5;//rotation around moon middle\n                 if(planets.children[i].children[j].children[3]!=null)\n                planets.children[i].children[j].children[3].rotation.z += 0.5;//rotation around moon middle\n           \n        }\n    }\n    if (control.zoom != camera.zoom) {\n        currentCamera.zoom = control.zoom;\n        currentCamera.updateProjectionMatrix();\n    }\n   \n   \n    \n    // render using requestAnimationFrame\n    requestAnimationFrame(gameLoop);\n    // render the scene\n    renderer.render(scene, currentCamera);\n}\n\n// Setup default renderer\nfunction setupRenderer(): void {\n    renderer = new Renderer();\n    renderer.setClearColor(0x111211, 1.0);\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.shadowMap.enabled = true;\n    console.log(\"Finished setting up Renderer...\")\n}\n\n// Setup main camera for the scene\nfunction setupCamera(): void {\n    camera = new PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);\n    camera.position.x = 4.7;\n    camera.position.y = 12.47;//z\n    camera.position.z = 12.9;//y axis in blender\n    camera.lookAt(new Vector3(0, 0, 0));\n    cameras[0] = camera;\n    console.log(\"Finished setting up Camera...\");\n}\n"],"sourceRoot":"/source/"}